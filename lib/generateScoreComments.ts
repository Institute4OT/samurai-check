// lib/generateScoreComments.ts
import { CategoryScores } from './scoringSystem';

const scoreComments: {
  [category: string]: {
    strength: string;
    tip: string;
  };
} = {
  'ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆåŠ›': {
    strength: 'å¤‰åŒ–ã‚’æã‚Œãšã€å¸¸ã«å­¦ã³ç¶šã‘ã‚‹å§¿å‹¢ãŒéš›ç«‹ã£ã¦ã„ã¾ã™ã€‚',
    tip: 'æ–°ã—ã„çŸ¥è­˜ã‚„å¤–éƒ¨åˆºæ¿€ã‚’å–ã‚Šå…¥ã‚Œã‚‹ç¿’æ…£ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚',
  },
  'ã‚³ãƒŸãƒ¥åŠ›èª¤å·®': {
    strength: 'ç«‹å ´ã‚„ä¸–ä»£ã‚’è¶…ãˆã¦ã€ä¼ãˆã‚‹åŠ›ã¨å—ã‘æ­¢ã‚ã‚‹åŠ›ã®ãƒãƒ©ãƒ³ã‚¹ãŒå–ã‚Œã¦ã„ã¾ã™ã€‚',
    tip: 'ä¸€æ–¹çš„ãªç™ºä¿¡ã«ãªã£ã¦ã„ãªã„ã‹ã€æ™‚ã€…ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚',
  },
  'ã‚¸ã‚§ãƒã‚®ãƒ£ãƒƒãƒ—æ„Ÿè¦š': {
    strength: 'è‹¥æ‰‹ã®ä¾¡å€¤è¦³ã‚„æ„Ÿæ€§ã«ã‚‚æŸ”è»Ÿã«å…±æ„Ÿã§ãã¦ã„ã¾ã™ã€‚',
    tip: 'ã€Œæ˜”ã¯ã“ã†ã ã£ãŸã€ã¨æ¯”è¼ƒã›ãšã€æœªæ¥ã¸ã®æœŸå¾…ã§èªžã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚',
  },
  'çµ„ç¹”é€²åŒ–é˜»å®³': {
    strength: 'æ§‹é€ çš„ãªå¤‰åŒ–ã‚„æ–°ã—ã„å–ã‚Šçµ„ã¿ã«ã‚‚ã‚ªãƒ¼ãƒ—ãƒ³ãªå§¿å‹¢ãŒã‚ã‚Šã¾ã™ã€‚',
    tip: 'ã€Œã†ã¡ã®ä¼šç¤¾ã‚‰ã—ã•ã€ã¸ã®ã“ã ã‚ã‚ŠãŒãƒ–ãƒ¬ãƒ¼ã‚­ã«ãªã£ã¦ã„ãªã„ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚',
  },
  'ç„¡è‡ªè¦šãƒãƒ©ã‚¹ãƒ¡ãƒ³ãƒˆå‚¾å‘': {
    strength: 'éƒ¨ä¸‹ã‚„å‘¨å›²ã«å¨åœ§æ„Ÿã‚’ä¸Žãˆãšã€å®‰å¿ƒæ„Ÿã‚ã‚‹é–¢ä¿‚ã¥ãã‚ŠãŒã§ãã¦ã„ã¾ã™ã€‚',
    tip: 'å–„æ„ã®ã¤ã‚‚ã‚Šã§ã‚‚ã€å—ã‘æ‰‹ã«ã¨ã£ã¦ä¸å¿«ã§ãªã„ã‹æŒ¯ã‚Šè¿”ã‚‹ç¿’æ…£ã‚’æŒã¡ã¾ã—ã‚‡ã†ã€‚',
  },
  'æ¨©é™å§”è­²ãƒ»æ§‹é€ å¥å…¨åº¦': {
    strength: 'ãƒãƒ¼ãƒ ã«è£é‡ã‚’ä¸Žãˆã€ä¿¡é ¼ã—ã¦ä»»ã›ã‚‹ãƒžãƒã‚¸ãƒ¡ãƒ³ãƒˆãŒã§ãã¦ã„ã¾ã™ã€‚',
    tip: 'ã€Œæœ€å¾Œã¯è‡ªåˆ†ãŒåˆ¤æ–­ã™ã‚‹ã€ãŒç¿’æ…£ã«ãªã£ã¦ã„ãªã„ã‹æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚',
  }
};

export function generateScoreComments(scores: CategoryScores): {
  strengths: string[];
  tips: string[];
} {
  const strengths: string[] = [];
  const tips: string[] = [];

  Object.entries(scores).forEach(([category, score]) => {
    const item = scoreComments[category];
    if (!item) return;

    if (score >= 2.5) {
      strengths.push(`âœ… ${item.strength}`);
    } else if (score < 2.0) {
      tips.push(`ðŸ’¡ ${item.tip}`);
    }
  });

  return { strengths, tips };
}